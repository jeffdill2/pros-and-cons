"use strict";function loadArguments(){prosCollection.fetch().done(function(){prosCollection.each(function(a){new ArgumentView({model:a,type:"pros"})})}),consCollection.fetch().done(function(){consCollection.each(function(a){new ArgumentView({model:a,type:"cons"})})}),neutralsCollection.fetch().done(function(){neutralsCollection.each(function(a){new ArgumentView({model:a,type:"neutrals"})})})}var ArgumentModel=Backbone.Model.extend({idAttribute:"_id"}),ArgumentCollection=Backbone.Collection.extend({model:ArgumentModel,initialize:function(a){this.url=a.url}}),ArgumentView=Backbone.View.extend({events:{"click .pro-button":"moveToPros","click .con-button":"moveToCons","click .neutral-button":"moveToNeutrals","click .delete-button":"destroy"},initialize:function(a){if(console.log(a.type),"pros"!==a.type.toLowerCase()&&"cons"!==a.type.toLowerCase()&&"neutrals"!==a.type.toLowerCase())throw new Error("The provided argument type to the argument view is invalid!");this.argumentType=a.type,this.argumentTemplate=_.template($("."+this.argumentType+"-template").text()),this.listenTo(this.model,"add change",this.render),$("."+this.argumentType).append(this.el),this.render()},render:function(){var a=this.argumentTemplate(this.model.attributes);return this.$el.html(a),this},moveArgument:function(a,b){var c=a.add({description:this.$el.find(".description").text()});c.save(),this.model.destroy(),this.remove(),new ArgumentView({model:c,type:b})},moveToPros:function(){this.moveArgument(prosCollection,"pros")},moveToCons:function(){this.moveArgument(consCollection,"cons")},moveToNeutrals:function(){this.moveArgument(neutralsCollection,"neutrals")},destroy:function(){this.model.destroy(),this.remove()}}),strProURL="http://tiny-pizza-server.herokuapp.com/collections/jdill-pro",strConURL="http://tiny-pizza-server.herokuapp.com/collections/jdill-con",strNeutralURL="http://tiny-pizza-server.herokuapp.com/collections/jdill-neutral",prosCollection=new ArgumentCollection({url:strProURL}),consCollection=new ArgumentCollection({url:strConURL}),neutralsCollection=new ArgumentCollection({url:strNeutralURL});$(document).ready(function(){loadArguments()}),$(".new-argument-button").click(function(){var a=$(".new-argument-field").val(),b=$("input:radio[name=new-argument-type]:checked").val();if(""===a)return void alert("You must specify your argument!");if(!b)return void alert("You must specify how you'd classify your argument!");switch(b){case"pro":var c=prosCollection.add({description:a});c.save(),new ArgumentView({model:c,type:"pros"});break;case"con":var c=consCollection.add({description:a});c.save(),new ArgumentView({model:c,type:"cons"});break;case"neutral":var c=neutralsCollection.add({description:a});c.save(),new ArgumentView({model:c,type:"neutrals"})}$(".new-argument-field").val(""),$("input:radio[name=new-argument-type]").attr("checked",!1)}),$(".pros-selector").click(function(){$(".pros").show(),$(".pros-selector").css("opacity","0.5"),$(".cons").hide(),$(".cons-selector").css("opacity","1"),$(".neutrals").hide(),$(".neutrals-selector").css("opacity","1")}),$(".cons-selector").click(function(){$(".pros").hide(),$(".pros-selector").css("opacity","1"),$(".cons").show(),$(".cons-selector").css("opacity","0.5"),$(".neutrals").hide(),$(".neutrals-selector").css("opacity","1")}),$(".neutrals-selector").click(function(){$(".pros").hide(),$(".pros-selector").css("opacity","1"),$(".cons").hide(),$(".cons-selector").css("opacity","1"),$(".neutrals").show(),$(".neutrals-selector").css("opacity","0.5")});